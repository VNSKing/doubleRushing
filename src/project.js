require=function e(t,o,n){function i(r,s){if(!o[r]){if(!t[r]){var a="function"==typeof require&&require;if(!s&&a)return a(r,!0);if(c)return c(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var h=o[r]={exports:{}};t[r][0].call(h.exports,function(e){var o=t[r][1][e];return i(o?o:e)},h,h.exports,e,t,o,n)}return o[r].exports}for(var c="function"==typeof require&&require,r=0;r<n.length;r++)i(n[r]);return i}({"boomerang-control":[function(e,t,o){"use strict";cc._RFpush(t,"6955c9A9tdIe5ZL1WecHkI6","boomerang-control"),cc.Class({"extends":cc.Component,properties:{speed:0,player:cc.Node,_targetPosition:null,_followPosition:null},onLoad:function(){this._followPosition=this.node.position,this.canvas=cc.find("Canvas"),this.canvas.on("touchstart",this.onTouchStart,this),cc.systemEvent.on("keydown",this.onKeyDown,this)},onKeyDown:function(e){switch(e.keyCode){case cc.KEY.f:this._targetPosition=this._followPosition,this.node.position=this.player.convertToNodeSpaceAR(this.node.parent.convertToWorldSpaceAR(this.node.position)),this.node.parent=this.player}},onTouchStart:function(e){this._targetPosition=this.canvas.convertToNodeSpaceAR(e.getLocation()),this.node.position=this.canvas.convertToNodeSpaceAR(this.node.parent.convertToWorldSpaceAR(this.node.position)),this.node.parent=this.canvas},update:function(e){if(this._targetPosition){var t=cc.pSub(this._targetPosition,this.node.position),o=cc.pMult(cc.pNormalize(t),this.speed),n=t.mag();n<=this.speed&&(this._targetPosition=null),this.node.position=cc.pAdd(this.node.position,o)}}}),cc._RFpop()},{}],"enemy-control":[function(e,t,o){"use strict";cc._RFpush(t,"d908dbQWJhKDIlC7KYkllU3","enemy-control"),cc.Class({"extends":cc.Component,properties:{pointArray:[cc.Vec2],deltaDuration:0,loop:!1},onLoad:function(){this.move()},move:function(){var e=this.pointArray.shift();e&&(this.loop&&this.pointArray.push(e),this.node.runAction(cc.sequence(cc.moveTo(this.deltaDuration,e),cc.callFunc(this.move.bind(this)))))}}),cc._RFpop()},{}],"gate-control":[function(e,t,o){"use strict";cc._RFpush(t,"7470dPjeK1PFruh4oIfGUnO","gate-control"),cc.Class({"extends":cc.Component,properties:{nextLevel:0,_sceneLoading:!1},onLoad:function(){var e=cc.director.getCollisionManager();e.enabled=!0},onCollisionEnter:function(e,t){if("player"==e.node.group&&!this._sceneLoading){this._sceneLoading=!0;var o="level-"+this.nextLevel+"-scene";cc.director.loadScene(o)}}}),cc._RFpop()},{}],"level-mgr":[function(e,t,o){"use strict";cc._RFpush(t,"4ba58KmS6FAFoiCXayNuQqP","level-mgr"),cc.Class({"extends":cc.Component,properties:{level:0,time:0,_timeStamp:null,_timeTipsLabel:null,_sceneLoading:!1},onLoad:function(){window.gameOver=!1,window.level=this.level,this._timeTipsLabel=this.getComponent(cc.Label),this._timeStamp=Date.now()},update:function(e){var t=Math.floor((this._timeStamp+1e3*this.time-Date.now())/1e3);t<=0?this._sceneLoading||(this._sceneLoading=!0,cc.director.loadScene("game-over-scene")):this._timeTipsLabel.string=t}}),cc._RFpop()},{}],"player-control":[function(e,t,o){"use strict";cc._RFpush(t,"6000fe3rwNH0Zrrgr0FYq+j","player-control"),cc.Class({"extends":cc.Component,properties:{g:-10,_leftBlock:0,_rightBlock:0,_upBlock:0,_downBlock:0,jumpSpeed:0,moveSpeed:0,_speedY:0,_wantClimb:!1,_left:!1,_right:!1,_up:!1,_down:!1,_jumping:!1},onLoad:function(){cc.systemEvent.on("keydown",this.onKeyDown.bind(this)),cc.systemEvent.on("keyup",this.onKeyUp.bind(this));var e=cc.director.getCollisionManager();e.enabled=!0},onCollisionExit:function(e,t){"wall"!=e.node.group&&"sprite"!=e.node.group||this.onLeaveWall(e,t)},onCollisionEnter:function(e,t){"wall"!=e.node.group&&"sprite"!=e.node.group||this.onTouchWall(e,t),"enemy"==e.node.group&&(window.gameOver||(window.gameOver=!0,cc.director.loadScene("game-over-scene")))},onTouchWall:function(e,t){var o=e.world.aabb.clone(),n=t.world.aabb.clone(),i=e.world.preAabb.clone(),c=t.world.preAabb.clone(),r=[];if(c.yMax<=i.yMin&&n.yMax>=o.yMin){var s=Math.abs(n.y-c.y);r.push({direction:"up",distance:s})}if(c.yMin>=i.yMax&&n.yMin<=o.yMax){var a=Math.abs(n.y-c.y);r.push({direction:"down",distance:a})}if(c.xMax<=i.xMin&&n.xMax>=o.xMin){var l=Math.abs(n.x-c.x);r.push({direction:"right",distance:l})}if(c.xMin>=i.xMax&&n.xMin<=o.xMax){var h=Math.abs(n.x-c.x);r.push({direction:"left",distance:h})}e.blockArray=r;var d=!0,p=!1,u=void 0;try{for(var f,_=r[Symbol.iterator]();!(d=(f=_.next()).done);d=!0){var v=f.value;switch(v.direction){case"left":this._leftBlock++;break;case"right":this._rightBlock++;break;case"up":this._upBlock++;break;case"down":this._downBlock++}}}catch(g){p=!0,u=g}finally{try{!d&&_["return"]&&_["return"]()}finally{if(p)throw u}}},onLeaveWall:function(e,t){if(e.blockArray){var o=!0,n=!1,i=void 0;try{for(var c,r=e.blockArray[Symbol.iterator]();!(o=(c=r.next()).done);o=!0){var s=c.value;switch(s.direction){case"left":this._leftBlock--;break;case"right":this._rightBlock--;break;case"up":this._upBlock--;break;case"down":this._downBlock--}}}catch(a){n=!0,i=a}finally{try{!o&&r["return"]&&r["return"]()}finally{if(n)throw i}}}},onKeyDown:function(e){switch(e.keyCode){case cc.KEY.a:this._left=!0;break;case cc.KEY.d:this._right=!0;break;case cc.KEY.w:if(this._jumping)break;this._up=!0;break;case cc.KEY.s:this._down=!0;break;case cc.KEY.space:this._wantClimb=!0}},onKeyUp:function(e){switch(e.keyCode){case cc.KEY.a:this._left=!1;break;case cc.KEY.d:this._right=!1;break;case cc.KEY.s:this._down=!1;break;case cc.KEY.space:this._wantClimb=!1}},update:function(e){this._left&&!this._leftBlock&&(this.node.x-=this.moveSpeed),this._right&&!this._rightBlock&&(this.node.x+=this.moveSpeed),this._up?(this._speedY=this.jumpSpeed,this._jumping=!0,this._up=!1):this._downBlock||this._wantClimb&&(this._leftBlock||this._rightBlock)?(this._speedY=0,this._jumping=!1):this._speedY+=this.g*e;var t=this._upBlock&&this._speedY>0?0:this._speedY*e;this.node.y+=t}}),cc._RFpop()},{}],restart:[function(e,t,o){"use strict";cc._RFpush(t,"2bb06Nr0i1DTIWsN6n2dS+7","restart"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){this.node.on("touchstart",function(){var e=window.level,t="level-"+e+"-scene";window.gameOver=!1,cc.director.loadScene(t)},this)}}),cc._RFpop()},{}],"toggle-btn-control":[function(e,t,o){"use strict";cc._RFpush(t,"d270bi/+fBCfaHTeYVKYgxZ","toggle-btn-control"),cc.Class({"extends":cc.Component,properties:{toggleArray:[cc.Node],enterEnabled:!1,exitEnabled:!1},onLoad:function(){var e=cc.director.getCollisionManager();e.enabled=!0},onCollisionEnter:function(e,t){if("player"==e.node.group||"sprite"==e.node.group){var o=!0,n=!1,i=void 0;try{for(var c,r=this.toggleArray[Symbol.iterator]();!(o=(c=r.next()).done);o=!0){var s=c.value;s.active=this.enterEnabled}}catch(a){n=!0,i=a}finally{try{!o&&r["return"]&&r["return"]()}finally{if(n)throw i}}}},onCollisionExit:function(e,t){if("player"==e.node.group||"sprite"==e.node.group){var o=!0,n=!1,i=void 0;try{for(var c,r=this.toggleArray[Symbol.iterator]();!(o=(c=r.next()).done);o=!0){var s=c.value;s.active=this.exitEnabled}}catch(a){n=!0,i=a}finally{try{!o&&r["return"]&&r["return"]()}finally{if(n)throw i}}}}}),cc._RFpop()},{}]},{},["boomerang-control","enemy-control","gate-control","level-mgr","player-control","restart","toggle-btn-control"]);